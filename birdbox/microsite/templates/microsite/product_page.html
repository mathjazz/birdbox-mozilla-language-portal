{% extends "microsite/base.html" %}
{% load microsite_tags wagtailcore_tags wagtailmetadata_tags static %}

{% block extra_head %}
  {{block.super}}
  {% meta_tags %}
{% endblock extra_head %}

{% block body_class %}template-product-landing-page{% endblock %}

{% block content %}

{% for block in page.content %}
  {# Breadcrumbs go after the hero unit #}
  {% include "microsite/partials/block_with_breadcrumbs_where_appropriate.html" %}
{% endfor %}

{% if search_results %}
  <ul class="tm-entries" data-next="{{ next }}">
    {% include "microsite/partials/tm_entries_items.html" with search_results=search_results search=request.GET.search %}
  </ul>
  <div class="tm-loader" id="tm-loader" role="status" aria-live="polite" aria-busy="false">
    <span class="tm-spinner" aria-hidden="true"></span>
    <span>Loadingâ€¦</span>
  </div>

{% elif request.GET.search %}
  <div class="tm-entries">
    <p class="tm-entry">No translations found matching your search.</p>
    {% if translation_error %}
    <p class="tm-entry">Error fetching translations: {{ translation_error }}</p>
    {% endif %}
  </div>
{% endif %}

{% endblock content %}

{% block extra_js %}
<script type="text/javascript" src="{% static 'js/tm-entries-loader.js' %}"></script>
{% endblock %}
